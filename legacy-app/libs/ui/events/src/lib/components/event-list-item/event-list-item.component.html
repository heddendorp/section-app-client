<a
  *ngIf="event"
  fxLayout="row"
  [routerLink]="event.id"
  class="h-full relative text-surface-on"
>
  <div
    class="bg-green-500 text-sm text-white px-2 rounded-bl rounded-tr-2xl absolute top-0 right-0"
    *ngIf="event.userRegistered"
  >
    registered
  </div>
  <div
    class="bg-secondary-default text-sm text-secondary-on px-2 rounded-bl rounded-tr-2xl absolute top-0 right-0"
    *ngIf="event.userIsOrganizer"
  >
    organizer
  </div>

  <div
    class="
      bg-gray-100
      p-4
      pr-20
      border border-outline-default
      rounded-l-2xl
      {{ event.publicationState | lowercase }}
    "
    fxLayout="column"
    fxLayoutAlign="center"
  >
    <img [src]="event.icon | iconURL" alt="" class="w-28" />
  </div>
  <div
    class="bg-surface-default rounded-2xl p-4 -ml-16 w-full border border-outline-default"
  >
    <p class="font-bold mb-2">{{ event.title }}</p>
    <p>
      ğŸ• {{ event.start | date: 'shortTime' }}
      <span class="ml-2" *ngIf="defaultPrice()">
        ğŸ’¶ {{ defaultPrice().amount | currency: 'EUR' }}
      </span>
    </p>
    <p
      *ngIf="
        RegistrationMode.External !== event.registrationMode && !notYetOpen()
      "
    >
      {{ event.freeParticipantSpots }}
      <ng-container *ngIf="event?.couldBeOrganizer">
        ({{ (event?.organizerLimit ?? 0) - (event?.organizersRegistered ?? 0) }}
        orga)
      </ng-container>
    </p>
    <p *ngIf="notYetOpen()">
      ğŸ”’ Registration opens {{ event.registrationStart | date: 'short' }}
    </p>
  </div>
</a>
